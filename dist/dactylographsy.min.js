!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=13)}([function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];d(this,a),this.enabled=b,this.enabled&&(this.console=window.console)}return e(a,[{key:"log",value:function(){if(this.enabled){var a;(a=this.console).log.apply(a,arguments)}}},{key:"info",value:function(){if(this.enabled){var a;(a=this.console).info.apply(a,arguments)}}},{key:"warn",value:function(){if(this.enabled){var a;(a=this.console).warn.apply(a,arguments)}}},{key:"debug",value:function(){if(this.enabled){var a;(a=this.console).debug.apply(a,arguments)}}},{key:"error",value:function(){if(this.enabled){var a;(a=this.console).error.apply(a,arguments)}}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search,d=e(c);if(!d.hasOwnProperty(a))return b;try{return JSON.parse(d[a])}catch(b){return encodeURIComponent(d[a])}}Object.defineProperty(b,"__esModule",{value:!0}),b.default=d;var e=function(a){var b=a,c=/[?&;](.+?)=([^&;]+)/g,d={},e=void 0;if(b)for(;e=c.exec(b);)d[e[1]]=decodeURIComponent(e[2]);return d}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"get",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(a,b)}},{key:"head",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(a,b,"HEAD")}},{key:"request",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(d,e){var f=new XMLHttpRequest;"withCredentials"in f?f.open(c,a,!0):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest,f.open(c,a)):f=null,b.withCredentials&&(f.withCredentials=!0),f.onload=function(){f.status>=400?e(f):d({xhr:f,text:f.responseText,url:f.responseURL})},f.onerror=function(){e(f)},f.send()})}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=d(g),i=c(1),j=d(i),k=c(10),l=d(k),m=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a);var c=b.enableLogging,d=void 0!==c&&c;this.log=new h.default((0,j.default)("dactylographsy-enableLogging",d)),this.options=b,this.cachePrefix=this.options.cachePrefix||"__dactylographsy",this.isSupported=this.supported(),this.options.appPrefix?this.cachePrefix=this.cachePrefix+"--"+this.options.appPrefix:this.options.cachePrefix||(this.cachePrefix+="__")}return f(a,[{key:"getPrefix",value:function(){return this.cachePrefix}},{key:"isItemValid",value:function(a,b){return"string"==typeof a&&(0,l.default)(a)===b}},{key:"parse",value:function(a){return JSON.parse(a)}},{key:"get",value:function(a,b){var c=this,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(e,f){c.isSupported||f();var g=localStorage.getItem(c.cachePrefix+"-"+a);if(null===g&&void 0!==b)return c.set(b,"plain",a),void e(b);if(null!==g&&d!==!1){var h=c.parse(g);c.log.info("Found item with key: "+a+" in cache which needs validation..."),c.isItemValid(h.code,d)?(c.log.info("...matches expected hash "+d+"."),e(h.code)):(c.log.info("...does not match expected hash "+d+" - pruning."),c.remove(a),f())}else g?(c.log.info("Found item with key: "+a+" in cache."),e(c.parse(g).code)):(c.log.info("Couldn't find item with key: "+a+" in cache."),f())})}},{key:"has",value:function(a){return!!this.isSupported&&null!==localStorage.getItem(this.cachePrefix+"-"+a)}},{key:"remove",value:function(a){return!!this.isSupported&&localStorage.removeItem(this.cachePrefix+"-"+a)}},{key:"set",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isSupported)return!1;d&&this.dedupe(d);var e={now:+new Date,url:c,code:a,type:b,singularBy:"string"==typeof d?d:void 0};return localStorage.setItem(this.cachePrefix+"-"+c,JSON.stringify(e)),e}},{key:"flush",value:function(){if(!this.isSupported)return!1;for(var a in localStorage)a.indexOf(this.cachePrefix)>=0&&(this.log.log("Removing item "+a+" requested by flush."),localStorage.removeItem(a));return!0}},{key:"supported",value:function(){var a="__dactylographsy__feature-detection";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return this.log.warn("Localstorage not supported in browser - no caching!"),!1}}},{key:"dedupe",value:function(a){for(var b in localStorage){if(b.indexOf(this.cachePrefix)>=0){var c=JSON.parse(localStorage.getItem(b));"string"==typeof a&&"string"==typeof c.singularBy&&c.singularBy===a&&(this.log.log("Deduping by "+a+" before adding dupe in "+b+"."),localStorage.removeItem(b))}}}}]),a}();b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=c(5),f=d(e);d(c(8)).default.polyfill(),"undefined"!=typeof window&&(window.dactylographsy=new f.default({autorun:!0}))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(3),h=d(g),i=c(7),j=d(i),k=c(0),l=d(k),m=c(1),n=d(m),o=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a);var c=b.autorun,d=void 0!==c&&c,f=b.enableLogging,g=void 0!==f&&f;this.log=new l.default((0,n.default)("dactylographsy-enableLogging",g)),this.hookIntoDom(),this.readConfiguration(),this.cache=new h.default({appPrefix:this.config.appPrefix}),d&&this.run()}return f(a,[{key:"hookIntoDom",value:function(){"undefined"!=typeof document&&(this.executingScript=document.getElementById("dactylographsy"),this.injectInto=document.body||document.head||document.getElementsByTagName("script")[0])}},{key:"readConfiguration",value:function(){this.manifestUrls=this.readAttrOnScript("manifests"),this.config=this.readAttrOnScript("config")}},{key:"refresh",value:function(){var a=this,b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Promise.all(this.manifestUrls.map(function(b){return new i.Manifest(b,a.config).get()})).then(function(c){return a.log.info("Fetched all manifests, "+c.length+" in total."),a.config.cacheInLocalStorage&&a.cache.set(c,"manifests","manifests"),new j.default(b?a.injectInto:void 0,c,a.config).inject()})}},{key:"restore",value:function(){var a=this,b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.cache.get("manifests").then(function(c){return a.log.info("Restoring with manifests in cache later refreshing via network (delayed)."),new j.default(b?a.injectInto:void 0,c,a.config).inject()})}},{key:"readAttrOnScript",value:function(a){if(!this.executingScript)return!1;var b=this.executingScript.getAttribute("data-"+a);return b?JSON.parse(b):void 0}},{key:"run",value:function(){var a=this,b=(0,n.default)("dactylographsy-ttl",this.config.ttl);return this.config.cacheInLocalStorage||(this.log.info('Flushing local-storage due to config-option "cacheInLocalStorage=false"'),this.cache.flush()),this.config.cacheInLocalStorage&&b&&this.cache.get("clt",0).then(function(c){c>=b?(a.log.info("Flushing cache due to exeeding TTL of "+b+"."),a.cache.flush()):a.cache.set(++c,"plain","clt")}),this.config.cacheOnly?this.refresh(!1):this.config.cachedManifests===!1||this.config.verification===!0||this.config.cacheInLocalStorage===!1?this.refresh():this.restore().then(function(b){var c=a.config.refreshDelay,d=void 0===c?5e3:c;return new Promise(function(c,e){window.setTimeout(function(){a.refresh(b).then(c,e)},d)})}).catch(function(){return a.log.info("No manifests in cache, refreshing via network."),a.refresh()})}}]),a}();b.default=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Css=b.Js=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(3),h=d(g),i=c(2),j=d(i),k=c(0),l=d(k),m=c(1),n=d(m),o=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a);var c=b.verification,d=void 0!==c&&c,f=b.cacheInLocalStorage,g=void 0===f||f,i=b.enableLogging,j=void 0!==i&&i;j=(0,n.default)("dactylographsy-enableLogging",j),g=(0,n.default)("dactylographsy-cacheInLocalStorage",g),this.cache=new h.default({appPrefix:b.appPrefix,enableLogging:j}),this.cacheDelay=b.cacheDelay||5e3,this.verification=d,this.cacheInLocalStorage=g,this.log=new l.default(j)}return f(a,[{key:"prepareWithText",value:function(a,b){var c=document.createElement("script");return this.log.info("Creating <script />-tag with text for "+b+"."),c.defer=!1,c.async=!1,c.setAttribute("data-dactylographsy-url",b),c.text="\n      "+a+"\n      //# sourceURL="+b+"\n    ",Promise.resolve(c)}},{key:"prepareWithUrl",value:function(a){var b=this,c=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],Object.keys(a).filter(function(a){return["printed","raw"].indexOf(a)>-1})),d={};return c.forEach(function(c){var e=document.createElement("script"),f=a[c];b.log.info("Creating <script />-tag with url: "+f+"."),e.async=!1,e.defer=!1,e.setAttribute("data-dactylographsy-url",f),e.setAttribute("data-dactylographsy-uncached-js","printed"===c),e.addEventListener("load",function(){"printed"===c&&b.ensureCache(f,a.singularBy,b.cacheDelay)}),e.src=f,d[c]=e}),Promise.resolve(d)}},{key:"ensureCache",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(e,f){return b.cache.has(a)?e():b.cacheInLocalStorage?(b.log.info("Loading JavaScript from "+a+" for cache in "+d+"."),void window.setTimeout(function(){return(new j.default).get(a).then(function(d){var f=d.text;b.cache.set(f,"js",a,c),b.log.info("Loaded JavaScript from "+a+" now cached."),e()}).catch(function(){b.log.info("Failed attempting to cache JavaScript from "+a+".")})},d)):e("Caching in localStorage is disabled")})}},{key:"hash",value:function(a){return this.verification===!0&&a}},{key:"tags",value:function(a){var b=this;return this.cache.get(a.printed,void 0,this.hash(a.id)).then(function(c){return b.prepareWithText(c,a.printed).then(function(a){return{cached:a}})},function(){return b.prepareWithUrl(a)})}}]),a}();b.Js=o;var p=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a);var c=b.verification,d=void 0!==c&&c,f=b.cacheInLocalStorage,g=void 0===f||f,i=b.enableLogging,j=void 0!==i&&i;j=(0,n.default)("dactylographsy-enableLogging",j),g=(0,n.default)("dactylographsy-cacheInLocalStorage",g),this.cache=new h.default({appPrefix:b.appPrefix}),this.cacheDelay=b.cacheDelay||5e3,this.verification=d,this.cacheInLocalStorage=g,this.log=new l.default(j)}return f(a,[{key:"ensureCache",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(e,f){return b.cache.has(a)?e():b.cacheInLocalStorage?(b.log.info("Loading CSS from "+a+" for cache in "+d+"."),void window.setTimeout(function(){return(new j.default).get(a).then(function(d){var f=d.text;b.cache.set(f,"css",a,c),b.log.info("Loaded CSS from "+a+" now cached."),e()}).catch(function(){b.log.info("Failed attempting to cache CSS from "+a+".")})},d)):e("Caching in localStorage is disabled")})}},{key:"prepareWithUrl",value:function(a){var b=this,c=Object.keys(a).filter(function(a){return["printed","raw"].indexOf(a)>-1}),d={};return c.forEach(function(c){var e=document.createElement("link"),f=a[c];b.log.info("Creating <link />-tag with url: "+f+"."),e.type="text/css",e.rel="stylesheet",e.setAttribute("data-dactylographsy-url",f),e.setAttribute("data-dactylographsy-uncached-css","printed"===c),e.addEventListener("load",function(){"printed"===c&&b.ensureCache(f,a.singularBy,b.cacheDelay)}),e.href=f,d[c]=e}),Promise.resolve(d)}},{key:"prepareWithText",value:function(a,b){var c=document.createElement("link");return this.log.info("Creating <link />-tag with text for url: "+b+"."),c.setAttribute("data-dactylographsy-url",b),c.textContent=a,Promise.resolve(c)}},{key:"hash",value:function(a){return this.verification===!0&&a}},{key:"tags",value:function(a){var b=this;return this.cache.get(a.printed,void 0,this.hash(a.id)).then(function(c){return b.prepareWithText(c,a.printed).then(function(a){return{cached:a}})},function(){return b.prepareWithUrl(a)})}}]),a}();b.Css=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Manifest=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(6),h=c(2),i=d(h),j=c(0),k=d(j),l=c(1),m=d(l),n=(b.Manifest=function(){function a(b,c){e(this,a);var d=c.enableLogging,f=void 0!==d&&d;this.log=new k.default((0,m.default)("dactylographsy-enableLogging",f)),this.url=b}return f(a,[{key:"get",value:function(){var a=this;return(new i.default).get(this.url).then(function(b){var c=b.text,d=b.url;return a.log.info("Fetched manifest from url: "+d+"."),JSON.parse(c)},function(b){a.log.error("Could not fetch manifest with url: "+b.responseURL+"!")})}}]),a}(),function(){function a(b,c){var d=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(this,a);var g=f.enableLogging,h=void 0!==g&&g;this.log=new k.default((0,m.default)("dactylographsy-enableLogging",h)),this.manifests={},this.injectInto=b,c.forEach(function(a){d.manifests[a.package]=a}),this.options=f,this.prefix=f.prefix,this.order=f.order}return f(a,[{key:"inject",value:function(){var a=this,b=function a(b){return b.reduce(function(b,c){return b.concat(Array.isArray(c)?a(c):c)},[])};return Promise.all(this.order.map(function(b){return a.manifests[b]?a.injectManifest(a.manifests[b]):(a.log.error("Couldn't find package "+b+" from injection order."),Promise.reject())})).then(function(c){var d=b(c);return a.injectIntoDOM(d),Promise.resolve(d)})}},{key:"injectManifest",value:function(a){var b=this,c=Object.keys(a.hashes);return Promise.all(c.map(function(c){var d=a.hashes[c],e=[a.rootUrl,a.packageUrl].filter(function(a){return void 0!==a&&null!==a}).join("/");return b.injectDependency(d,e)}))}},{key:"injectDependency",value:function(a,b){switch(a.extension){case".css":return new g.Css(this.options).tags(this.urls(a,b));case".js":return new g.Js(this.options).tags(this.urls(a,b));default:Promise.resolve(!1)}}},{key:"injectIntoDOM",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=function(a,c){b.injectInto&&(b.log.info("Injecting "+c+" tag",a),b.injectInto.appendChild(a))},f=function(a,c){b.injectIntoDOM(a,++c)},g=function(a,c,d){"raw"!==d?b.injectIntoDOM(a,c,"raw"):(b.injectIntoDOM(a,++c),b.log.error("Failed loading dependency as raw",h))};if(!(c>=a.length)){d=a[c][d]&&d||a[c].cached&&"cached"||a[c].printed&&"printed";var h=a[c][d];if(void 0!==h)if("printed"===d)if(h instanceof HTMLLinkElement){var j=(new i.default).get(h.href);j.then(function(){e(h,d),f(a,c)}).catch(function(){g(a,c,d)})}else e(h,d),h.addEventListener("load",function(){f(a,c)}),h.addEventListener("error",function(){g(a,c,d)});else"cached"!==d&&"raw"!==d||(e(h,d),f(a,c))}}},{key:"basename",value:function(a){return a.replace(/.*\/|\.[^.]*$/g,"")}},{key:"urls",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=this.basename(a.file),d=[this.prefix,b,a.path].filter(function(a){return void 0!==a&&null!==a}).join("/");return{id:a.id,printed:"/"+d+"/"+c+"-"+a.hash+a.extension,raw:"/"+d+"/"+c+a.extension,singularBy:"/"+d+"/"+c+a.extension}}}]),a}());b.default=n},function(a,b,c){(function(b,d){!function(b,c){a.exports=c()}(0,function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function e(a){return"function"==typeof a}function f(a){T=a}function g(a){U=a}function h(){return void 0!==S?function(){S(j)}:i()}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<R;a+=2){(0,$[a])($[a+1]),$[a]=void 0,$[a+1]=void 0}R=0}function k(a,b){var c=arguments,d=this,e=new this.constructor(m);void 0===e[aa]&&F(e);var f=d._state;return f?function(){var a=c[f-1];U(function(){return C(f,e,a,d._result)})}():y(d,e,a,b),e}function l(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ea.error=a,ea}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){U(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===ca?w(a,b._result):b._state===da?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,b,c){b.constructor===a.constructor&&c===k&&b.constructor.resolve===l?s(a,b):c===ea?(x(a,ea.error),ea.error=null):void 0===c?w(a,b):e(c)?r(a,b,c):w(a,b)}function u(b,c){b===c?x(b,n()):a(c)?t(b,c,p(c)):w(b,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===ba&&(a._result=b,a._state=ca,0!==a._subscribers.length&&U(z,a))}function x(a,b){a._state===ba&&(a._state=da,a._result=b,U(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ca]=c,e[f+da]=d,0===f&&a._state&&U(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a._subscribers.length=0}}function A(){this.error=null}function B(a,b){try{return a(b)}catch(a){return fa.error=a,fa}}function C(a,b,c,d){var f=e(c),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=B(c,d),g===fa?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void x(b,o())}else g=d,i=!0;b._state!==ba||(f&&i?u(b,g):j?x(b,h):a===ca?w(b,g):a===da&&x(b,g))}function D(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function E(){return ga++}function F(a){a[aa]=ga++,a._state=void 0,a._result=void 0,a._subscribers=[]}function G(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[aa]||F(this.promise),Q(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):x(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function I(a){return new G(this,a).promise}function J(a){var b=this;return new b(Q(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function K(a){var b=this,c=new b(m);return x(c,a),c}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(a){this[aa]=E(),this._result=this._state=void 0,this._subscribers=[],m!==a&&("function"!=typeof a&&L(),this instanceof N?D(this,a):M())}function O(){var a=void 0;if(void 0!==d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=N}var P=void 0;P=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var Q=P,R=0,S=void 0,T=void 0,U=function(a,b){$[R]=a,$[R+1]=b,2===(R+=2)&&(T?T(j):_())},V="undefined"!=typeof window?window:void 0,W=V||{},X=W.MutationObserver||W.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==b&&"[object process]"==={}.toString.call(b),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),_=void 0;_=Y?function(){return function(){return b.nextTick(j)}}():X?function(){var a=0,b=new X(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():Z?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===V?function(){try{var a=c(12);return S=a.runOnLoop||a.runOnContext,h()}catch(a){return i()}}():i();var aa=Math.random().toString(36).substring(16),ba=void 0,ca=1,da=2,ea=new A,fa=new A,ga=0;return G.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ba&&c<a;c++)this._eachEntry(b[c],c)},G.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==ba)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===N){var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},G.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ba&&(this._remaining--,a===da?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},G.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(ca,b,a)},function(a){return c._settledAt(da,b,a)})},N.all=I,N.race=J,N.resolve=l,N.reject=K,N._setScheduler=f,N._setAsap=g,N._asap=U,N.prototype={constructor:N,then:k,catch:function(a){return this.then(null,a)}},N.polyfill=O,N.Promise=N,N})}).call(b,c(9),c(11))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){"use strict";function d(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0}a.exports=d},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b){},function(a,b,c){a.exports=c(4)}]);